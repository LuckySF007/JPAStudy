# 02.도메인 분석 설계

- fk가 있는 곳이 연관관계의 주인
- 양방향 관계일 경우에, 한쪽 데이터만 바꾸더라도 다른한쪽의 데이터도 바뀌어야함 → 연관관계의 주인쪽이 바뀌어야 다른한쪽도 바뀌는것(다른한쪽은 거울일뿐)
- 일대일 관계에서 fk가 있는 곳을 연관관계의 주인으로
- @ManyToMany는 비추천 (특히 실무에서)

<br>

## Getter와 Setter

- 실무에서는 가급적 getter만 열어두고 setter는 꼭 필요할때만 사용 추천
- 이론적으로는 getter,setter 모두 제공하지 않고 꼭 필요한 별도의 메서드를 제공하는게 가장 이상적 → setter를 열어두면 엔티티가 도대체 왜 변경되는지 추적하기 어려움 → 비즈니스 메서드 별도로 제공 추천

<br>

## 값 타입

- 변경 불가능하게 설계해야함 → setter 사용 x
- 기본 생성자를 protected로 두어 안전하게 하자. → 기본 생성자가 필요한 이유는 jpa 구현 라이브러리가 객체를 생성할때 리플렉션 같은 기술을 사용하기 때문

<br>

- 모든 연관관계는 지연로딩으로 설정!
- @XToOne(@ManyToOne, @OneToOne) 은 기본이 즉시로딩이므로 지연로딩으로 설정해주어야함
- 컬렉션은 필드 초기화해라